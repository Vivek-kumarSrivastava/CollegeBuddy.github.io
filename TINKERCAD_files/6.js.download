(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+Qs5":function(e,n,l){"use strict";l.d(n,"a",function(){return u});var t=l("mrSG"),i=l("OFCM"),o=l("Hgji"),r=(l("Fon+"),l("67Y/")),s=l("9Z1F"),a=(l("5Zhs"),l("XlPw")),u=function(){function e(e,n,l,t,o){this.translate=e,this.userService=n,this.route=l,this.commentsService=t,this.designService=o,this.yesNoModalTitle="",this.yesNoModalBodyContent="",this.yesNoModalYesLabel="",this.yesNoModalNoLabel="",this.yesNoModalErrors=[],this.noButtonClasses=["btn-link"],this.yesNoModaltitleStyles={},this.yesNoConfirmWithCheck=!1,this.yesNoConfirmWithCheckLabel="",this.currentFilter=i.Ea.ALL,this.activity=[],this.STATUSES=i.Ea,this.DESIGNSTATUS=i.r,this.LIKESTATUS=i.K,this.activityFeedMode=i.c.COMPACT,this.showLoadMoreButton=!1,this.page=0,this.pageSize=10,this.loadingActivity=!1,this.notifications=[],this.actionWorking=!1,this.subscriptions=[]}return e.prototype.ngOnInit=function(){var e=this;this.route.queryParams.subscribe(function(n){var l="";switch(n.type){case i.Ea.COPIED+i.Ea.DESIGNED:l=i.Ea.COPIED+i.Ea.DESIGNED;break;case i.Ea.COMMENT:l=i.Ea.COMMENT;break;case i.Ea.LIKE:l=i.Ea.LIKE;break;default:case i.Ea.ALL:l=i.Ea.ALL}l!==e.currentFilter&&e.resetActivityData(),e.currentFilter=l,e.fetchVisibleActivities(l)})},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){e.unsubscribe()})},e.prototype.activityTrackBy=function(e){return e&&e.id},e.prototype.unlikeDesignClick=function(e){this.performModerationAction(i.Ua.UNLIKE,e)},e.prototype.likeDesignClick=function(e){this.performModerationAction(i.Ua.RESTORELIKE,e)},e.prototype.banCommentDesignClick=function(e){this.performModerationAction(i.Ua.BANCOMMENT,e)},e.prototype.restoreCommentDesignClick=function(e){this.performModerationAction(i.Ua.RESTORECOMMENT,e)},e.prototype.banDesignClick=function(e){this.performModerationAction(i.Ua.BANDESIGN,e)},e.prototype.restoreDesignClick=function(e){this.performModerationAction(i.Ua.RESTOREDESIGN,e)},e.prototype.loadNextPage=function(e){this.page=this.page+1,this.fetchVisibleActivities(),e.stopPropagation()},e.prototype.fetchVisibleActivities=function(e){var n,l=this;e&&(this.currentFilter=e,this.resetActivityData()),this.activity=this.activity.concat(Array(this.pageSize).fill(null)),n=this.classID?this.userService.getUserClassKidsData(this.classID,this.currentFilter,this.page,this.pageSize):this.userService.getUserProfileModerateKidsData(this.currentFilter,this.page,this.pageSize),this.subscriptions.push(n.subscribe(function(e){var n=Array.from(e.data,function(e){var n=e.type,l=e.statuseTypeData;return n!==i.Ea.COPIED&&n!==i.Ea.DESIGNED||(l.target_id=l.id),new o.a(t.__assign({},e,{statuseTypeData:l}))}).slice();l.activity=l.activity.filter(function(e){return e}).concat(n.sort(function(e,n){return n.Btime-e.Btime})),l.showLoadMoreButton=parseInt(e.total,10)>(l.page+1)*l.pageSize},function(e){return l.loadingActivity=!1}))},e.prototype.resetActivityData=function(){this.activity=[],this.page=0,this.showLoadMoreButton=!0},e.prototype.performModerationAction=function(e,n){var l=this;if(!this.actionWorking){var t;switch(this.yesNoModaltitleStyles={},this.yesNoConfirmWithCheck=!1,this.yesNoConfirmWithCheckLabel="",e){case i.Ua.UNLIKE:case i.Ua.RESTORELIKE:case i.Ua.BANCOMMENT:case i.Ua.RESTORECOMMENT:case i.Ua.BANDESIGN:case i.Ua.RESTOREDESIGN:t=this.performThingModerationAction(e,n)}this.subscriptions.push(t.subscribe(function(){l.yesNoModal.show(e)}))}},e.prototype.userActionConfirmationModal=function(e){var n=this;if(!this.actionWorking){var l;switch(this.notifications=[],this.yesNoModalErrors=[],this.actionWorking=!0,e){case i.Ua.UNLIKE:case i.Ua.RESTORELIKE:case i.Ua.BANCOMMENT:case i.Ua.RESTORECOMMENT:case i.Ua.BANDESIGN:case i.Ua.RESTOREDESIGN:l=this.userActionConfirmationModalActivity(e,this.activitySubject)}this.subscriptions.push(l.subscribe(function(){n.yesNoModal.hide(),n.activitySubject=null,n.actionWorking=!1},function(){n.actionWorking=!1}))}},e.prototype.userActionConfirmationModalActivity=function(e,n){var l=this,t=n.design,o="codeblocks"===t.asmType?"codeblocks":"designOrCircuits";switch(e){case i.Ua.UNLIKE:return this.designService.moderatorUnreact(t.id,o,n.subjectUser).pipe(Object(r.a)(function(){return l.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.statuseTypeData.status=i.K.UNLIKE,n}),Object(s.a)(function(e){return l.yesNoModalErrors.push({label:"user-profile-performed_action_error",class:"error"}),l.actionWorking=!1,Object(a.a)(e)}));case i.Ua.RESTORELIKE:return this.designService.moderatorRestoreReaction(t.id,o,n.subjectUser).pipe(Object(r.a)(function(){return l.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.statuseTypeData.status=i.K.LIKE,n}),Object(s.a)(function(e){return l.yesNoModalErrors.push({label:"user-profile-performed_action_error",class:"error"}),l.actionWorking=!1,Object(a.a)(e)}));case i.Ua.BANCOMMENT:return this.commentsService.banComment(n.design,n.statuseTypeData.id).pipe(Object(r.a)(function(){return l.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.statuseTypeData.banned=!0,n}),Object(s.a)(function(e){return l.yesNoModalErrors.push({label:"user-profile-performed_action_error",class:"error"}),l.actionWorking=!1,Object(a.a)(e)}));case i.Ua.RESTORECOMMENT:return this.commentsService.unbanComment(n.design,n.statuseTypeData.id).pipe(Object(r.a)(function(){return l.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.statuseTypeData.banned=!1,n}),Object(s.a)(function(e){return l.yesNoModalErrors.push({label:"user-profile-performed_action_error",class:"error"}),l.actionWorking=!1,Object(a.a)(e)}));case i.Ua.BANDESIGN:return this.designService.banDesign(n.design).pipe(Object(r.a)(function(){return l.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.design.status=i.r.AssemblyStatusBanned,n}),Object(s.a)(function(e){return l.yesNoModalErrors.push({label:"user-profile-performed_action_error",class:"error"}),l.actionWorking=!1,Object(a.a)(e)}));case i.Ua.RESTOREDESIGN:return this.designService.unbanDesign(n.design).pipe(Object(r.a)(function(){return l.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.design.status=i.r.AssemblyStatusNormal,n}),Object(s.a)(function(e){return l.yesNoModalErrors.push({label:"user-profile-performed_action_error",class:"error"}),l.actionWorking=!1,Object(a.a)(e)}))}},e.prototype.performThingModerationAction=function(e,n){var l=this;switch(this.activitySubject=n,e){case i.Ua.UNLIKE:return this.translate.get(["sb_banuser_close","questreactions-ban_like_button","questreactions-unban_like_confirm_msg"]).pipe(Object(r.a)(function(e){return l.yesNoModalTitle=e["questreactions-ban_like_button"],l.yesNoModalYesLabel=e["questreactions-ban_like_button"],l.yesNoModalNoLabel=e.sb_banuser_close,l.yesNoModalBodyContent=e["questreactions-unban_like_confirm_msg"],n}));case i.Ua.RESTORELIKE:return this.translate.get(["sb_banuser_close","questreactions-unban_like_button","questreactions-ban_like_confirm_msg"]).pipe(Object(r.a)(function(e){return l.yesNoModalTitle=e["questreactions-unban_like_button"],l.yesNoModalYesLabel=e["questreactions-unban_like_button"],l.yesNoModalNoLabel=e.sb_banuser_close,l.yesNoModalBodyContent=e["questreactions-ban_like_confirm_msg"],n}));case i.Ua.BANCOMMENT:return this.translate.get(["sb_approve_close_btn","questreactions-ban_comment_button","questreactions-unban_comment_confirm_msg"]).pipe(Object(r.a)(function(e){return l.yesNoModalTitle=e["questreactions-ban_comment_button"],l.yesNoModalYesLabel=e["questreactions-ban_comment_button"],l.yesNoModalNoLabel=e.sb_approve_close_btn,l.yesNoModalBodyContent=e["questreactions-unban_comment_confirm_msg"],n}));case i.Ua.RESTORECOMMENT:return this.yesNoModaltitleStyles={color:"red"},this.translate.get(["questreactions-unban_comment_button","sb_approve_maybe_later","questreactions-ban_comment_confirm_msg"]).pipe(Object(r.a)(function(e){return l.yesNoModalTitle=e["questreactions-unban_comment_button"],l.yesNoModalYesLabel=e["questreactions-unban_comment_button"],l.yesNoModalNoLabel=e.sb_approve_maybe_later,l.yesNoModalBodyContent=e["questreactions-ban_comment_confirm_msg"],n}));case i.Ua.BANDESIGN:return this.translate.get(["sb_delete_close","thingcover-ban_btn","thingcover-ban_thing_confirm_msg"]).pipe(Object(r.a)(function(e){return l.yesNoModalTitle=e["thingcover-ban_btn"],l.yesNoModalYesLabel=e["thingcover-ban_btn"],l.yesNoModalNoLabel=e.sb_delete_close,l.yesNoModalBodyContent=e["thingcover-ban_thing_confirm_msg"],n}));case i.Ua.RESTOREDESIGN:return this.translate.get(["thingcover-unban_btn","sb_delete_close","thingcover-unban_thing_confirm_msg"],{".userName":""}).pipe(Object(r.a)(function(e){return l.yesNoModalTitle=e["thingcover-unban_btn"],l.yesNoModalYesLabel=e["thingcover-unban_btn"],l.yesNoModalNoLabel=e.sb_delete_close,l.yesNoModalBodyContent=e["thingcover-unban_thing_confirm_msg"],n}))}},e}()},"0BaN":function(e,n,l){"use strict";var t=l("CcnG"),i=l("Vqm/"),o=l("65B7"),r=l("rwgK"),s=l("y8Qd"),a=l("Y6oN"),u=l("vRcr"),c=l("A7o+"),d=l("Ip0R"),p=l("JGhd");l("vfWh"),l("8PDw"),l.d(n,"a",function(){return h}),l.d(n,"b",function(){return M});var h=t["\u0275crt"]({encapsulation:0,styles:[[".feed-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], tk-user-avatar[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;margin:0}tk-user-avatar[_ngcontent-%COMP%]{margin-right:10px}.comment-wrapper[_ngcontent-%COMP%]{margin-left:42px!important}.feed-body[_ngcontent-%COMP%]{display:flex;align-items:center}.activity-feed-placeholder-icon[_ngcontent-%COMP%]{min-width:31px;display:flex;align-items:center;justify-content:center}.activity-feed-placeholder-icon[_ngcontent-%COMP%]   .reaction-img[_ngcontent-%COMP%]{background-color:#d2d2d2;width:24px;height:24px;border-radius:50%}.user-avatar-placeholder[_ngcontent-%COMP%]{background-color:#d2d2d2;width:40px;height:40px;border-radius:3px;margin-right:10px}.activity-feed-placeholder-text[_ngcontent-%COMP%]{width:80%;padding:7px;background:#d2d2d2;border-radius:10px;margin-bottom:10px}.activity-feed-placeholder-date[_ngcontent-%COMP%]{width:60%;padding:7px;background:#d2d2d2;border-radius:10px}.activity-feed-placeholder-text-wrapper[_ngcontent-%COMP%]{width:100%}.activity-feed-placeholder-row[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px;display:flex;gap:12px;align-items:center}.activity-feed-placeholder-row[_ngcontent-%COMP%]   .feed-body[_ngcontent-%COMP%]{width:100%}.icon-column[_ngcontent-%COMP%]{box-sizing:border-box;padding-right:0;min-width:31px;display:flex;align-items:center;justify-content:center}.icon-column[_ngcontent-%COMP%]   .reaction-img[_ngcontent-%COMP%]{width:24px}.activity-row-wrapper[_ngcontent-%COMP%]{padding:10px;display:flex;gap:12px;margin:10px 0}.activity-row-wrapper[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;background-color:#edf5f6;transition-duration:.2s}.thumbnail-wrapper[_ngcontent-%COMP%]{max-width:25%;margin-right:0;margin-left:auto}.thumbnail-wrapper[_ngcontent-%COMP%]     img{width:100%}.unseen[_ngcontent-%COMP%]{background-color:#edf5f6}.unseen[_ngcontent-%COMP%]:hover{background-color:#f6fafa}"]],data:{}});function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","thumbnail-wrapper"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"tk-lazy-load-image",[],null,null,null,i.b,i.a)),t["\u0275did"](3,573440,null,0,o.a,[],{src:[0,"src"],class:[1,"class"],tries:[2,"tries"]},null)],function(e,n){var l=n.component;e(n,3,0,null==l.activity.design?null:l.activity.design.getDetailThumbURL(),t["\u0275EMPTY_ARRAY"],15)},function(e,n){var l=n.component;e(n,1,0,t["\u0275inlineInterpolate"](1,"",null==l.activity.design?null:l.activity.design.getDesignLongURL(),""))})}function m(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,19,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","icon-column"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"img",[["aria-hidden","true"],["class","reaction-img"]],[[8,"src",4]],null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,14,"div",[["class"," feed-body"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,1,"tk-user-avatar",[],null,null,null,r.b,r.a)),t["\u0275did"](5,573440,null,0,s.a,[a.a,u.a],{user:[0,"user"]},null),(e()(),t["\u0275eld"](6,0,null,null,11,"p",[["class","text-sm"]],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](8,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](9,null,["",""])),(e()(),t["\u0275eld"](10,0,null,null,2,"span",[],[[8,"innerHTML",1]],null,null,null,null)),t["\u0275pod"](11,{".label":0,".assetLink":1,".assetTitle":2}),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](13,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t["\u0275eld"](14,0,null,null,3,"small",[["class","text-sm text-muted"]],null,null,null,null,null)),(e()(),t["\u0275ted"](15,null,[""," ",""])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),t["\u0275ppd"](17,1),(e()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](19,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],function(e,n){var l=n.component;e(n,5,0,l.activity.subjectUser),e(n,19,0,l.mode!==l.ACTIVITY_FEED_MODE.COMPACT)},function(e,n){var l=n.component;e(n,2,0,t["\u0275inlineInterpolate"](1,"",l.getSVGUrl(null==l.activity.statuseTypeData?null:l.activity.statuseTypeData.reaction_type),"")),e(n,7,0,t["\u0275inlineInterpolate"](1,"",null==l.activity.subjectUser?null:l.activity.subjectUser.getUserLongURL(),"")),e(n,9,0,null==l.activity.subjectUser?null:l.activity.subjectUser.getSafeScreenName()),e(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,12).transform("useredit_user_reacted",e(n,11,0,l.getReactionLabel(l.activity.statuseTypeData.reaction_type),null==l.activity?null:null==l.activity.design?null:l.activity.design.getDesignLongURL(),null==l.activity.design?null:l.activity.design.getTitle())))),e(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform("activity-stream.liked")),t["\u0275unv"](n,15,1,e(n,17,0,t["\u0275nov"](n.parent.parent,0),l.activity.Btime)))})}function g(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[' : "','" ']))],null,function(e,n){var l=n.component;e(n,1,0,null==l.activity.statuseTypeData?null:l.activity.statuseTypeData.comment)})}function v(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[" (",") "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("activity-item-design-deleted")))})}function b(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","thumbnail-wrapper"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"tk-lazy-load-image",[],null,null,null,i.b,i.a)),t["\u0275did"](3,573440,null,0,o.a,[],{src:[0,"src"],class:[1,"class"],tries:[2,"tries"]},null)],function(e,n){var l=n.component;e(n,3,0,null==l.activity.design?null:l.activity.design.getDetailThumbURL(),t["\u0275EMPTY_ARRAY"],15)},function(e,n){var l=n.component;e(n,1,0,t["\u0275inlineInterpolate"](1,"",null==l.activity.design?null:l.activity.design.getDesignLongURL(),""))})}function _(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,25,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","icon-column"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-comment fa-w-18 fa-lg text-info"],["data-icon","comment"],["data-prefix","fa"],["role","img"],["title","Comment"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,20,"div",[["class","feed-body"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,1,"tk-user-avatar",[],null,null,null,r.b,r.a)),t["\u0275did"](5,573440,null,0,s.a,[a.a,u.a],{user:[0,"user"]},null),(e()(),t["\u0275eld"](6,0,null,null,17,"p",[["class","text-sm"]],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](8,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](9,null,["",""])),(e()(),t["\u0275ted"](10,null,[" "," "," "," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](12,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](13,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](14,null,["",""])),(e()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](16,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](18,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](19,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t["\u0275eld"](20,0,null,null,3,"small",[["class","text-sm text-muted"]],null,null,null,null,null)),(e()(),t["\u0275ted"](21,null,[""," ",""])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef]),t["\u0275ppd"](23,1),(e()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](25,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],function(e,n){var l=n.component;e(n,5,0,l.activity.subjectUser),e(n,16,0,!(null!=l.activity&&null!=l.activity.statuseTypeData&&l.activity.statuseTypeData.deleted)),e(n,18,0,(null==l.activity?null:null==l.activity.design?null:l.activity.design.status)==l.DESIGNSTATUS.AssemblyStatusDeleted),e(n,25,0,l.mode!==l.ACTIVITY_FEED_MODE.COMPACT)},function(e,n){var l=n.component;e(n,7,0,t["\u0275inlineInterpolate"](1,"",null==l.activity.subjectUser?null:l.activity.subjectUser.getUserLongURL(),"")),e(n,9,0,null==l.activity.subjectUser?null:l.activity.subjectUser.getSafeScreenName()),e(n,10,0," ",t["\u0275unv"](n,10,1,t["\u0275nov"](n,11).transform("useredit_user_commented_on"))," "),e(n,12,0,t["\u0275inlineInterpolate"](1,"",null==l.activity?null:null==l.activity.design?null:l.activity.design.getDesignLongURL(),"")),e(n,14,0,null==l.activity.design?null:l.activity.design.getTitle()),e(n,21,0,t["\u0275unv"](n,21,0,t["\u0275nov"](n,22).transform("activity-stream.commented")),t["\u0275unv"](n,21,1,e(n,23,0,t["\u0275nov"](n.parent.parent,0),l.activity.Btime)))})}function y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[""," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("useredit_username_copied_desc")))})}function C(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,[""," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("useredit_username_designed_desc")))})}function w(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""," "])),t["\u0275pid"](131072,c.i,[c.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("activity-stream.remixed"))," ")})}function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","thumbnail-wrapper"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"tk-lazy-load-image",[],null,null,null,i.b,i.a)),t["\u0275did"](3,573440,null,0,o.a,[],{src:[0,"src"],class:[1,"class"],tries:[2,"tries"]},null)],function(e,n){var l=n.component;e(n,3,0,null==l.activity.design?null:l.activity.design.getDetailThumbURL(),t["\u0275EMPTY_ARRAY"],15)},function(e,n){var l=n.component;e(n,1,0,t["\u0275inlineInterpolate"](1,"",null==l.activity.design?null:l.activity.design.getDesignLongURL(),""))})}function E(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,30,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","icon-column"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,2,"i",[["aria-hidden","true"],["class","fa fa-retweet fa-w-20 fa-lg text-success fa-fw"],["data-icon","retweet"],["data-prefix","fa"],["role","img"],["title","Remix"]],null,null,null,null,null)),t["\u0275did"](3,278528,null,0,d.NgStyle,[t.KeyValueDiffers,t.ElementRef,t.Renderer2],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{visibility:0}),(e()(),t["\u0275eld"](5,0,null,null,23,"div",[["class","feed-body"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,1,"tk-user-avatar",[],null,null,null,r.b,r.a)),t["\u0275did"](7,573440,null,0,s.a,[a.a,u.a],{user:[0,"user"]},null),(e()(),t["\u0275eld"](8,0,null,null,20,"p",[["class","text-sm"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](11,null,["",""])),(e()(),t["\u0275ted"](12,null,[" "," "])),(e()(),t["\u0275eld"](13,0,null,null,5,null,null,null,null,null,null,null)),t["\u0275did"](14,16384,null,0,d.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,y)),t["\u0275did"](16,278528,null,0,d.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,d.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](18,278528,null,0,d.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,d.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["\u0275ted"](19,null,[" "," "])),(e()(),t["\u0275eld"](20,0,null,null,2,"a",[],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275eld"](21,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),t["\u0275ted"](22,null,["",""])),(e()(),t["\u0275eld"](23,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),t["\u0275eld"](24,0,null,null,4,"small",[["class","text-muted"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](26,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275ted"](27,null,[" "," "])),t["\u0275ppd"](28,1),(e()(),t["\u0275and"](16777216,null,null,1,null,S)),t["\u0275did"](30,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],function(e,n){var l=n.component;e(n,3,0,e(n,4,0,(null==l.activity?null:l.activity.type)==l.STATUSES.DESIGNED?"hidden":"visible")),e(n,7,0,l.activity.subjectUser),e(n,14,0,null==l.activity?null:l.activity.type),e(n,16,0,l.STATUSES.COPIED),e(n,18,0,l.STATUSES.DESIGNED),e(n,26,0,(null==l.activity?null:l.activity.type)==l.STATUSES.COPIED),e(n,30,0,l.mode!==l.ACTIVITY_FEED_MODE.COMPACT)},function(e,n){var l=n.component;e(n,9,0,t["\u0275inlineInterpolate"](1,"",null==l.activity.subjectUser?null:l.activity.subjectUser.getUserLongURL(),"")),e(n,11,0,null==l.activity.subjectUser?null:l.activity.subjectUser.getSafeScreenName()),e(n,12,0," "),e(n,19,0," "),e(n,20,0,t["\u0275inlineInterpolate"](1,"",null==l.activity?null:null==l.activity.design?null:l.activity.design.getDesignLongURL(),"")),e(n,22,0,null==l.activity.design?null:l.activity.design.getTitle()),e(n,27,0,t["\u0275unv"](n,27,0,e(n,28,0,t["\u0275nov"](n.parent.parent,0),l.activity.Btime)))})}function N(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","activity-row-wrapper"]],null,null,null,null,null)),t["\u0275did"](2,278528,null,0,d.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{unseen:0}),(e()(),t["\u0275eld"](4,0,null,null,7,null,null,null,null,null,null,null)),t["\u0275did"](5,16384,null,0,d.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](7,278528,null,0,d.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,d.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](9,278528,null,0,d.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,d.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](11,278528,null,0,d.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,d.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,n){var l=n.component;e(n,2,0,"activity-row-wrapper",e(n,3,0,!(null!=l.activity&&l.activity.checked))),e(n,5,0,null==l.activity?null:l.activity.getCategory()),e(n,7,0,l.STATUSES.LIKE),e(n,9,0,l.STATUSES.COMMENT),e(n,11,0,l.STATUSES.COPIED+l.STATUSES.DESIGNED)},null)}function T(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","activity-feed-placeholder-row"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,1,"div",[["class","activity-feed-placeholder-icon"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,0,"div",[["class","reaction-img"]],null,null,null,null,null)),(e()(),t["\u0275eld"](3,0,null,null,4,"div",[["class","feed-body"]],null,null,null,null,null)),(e()(),t["\u0275eld"](4,0,null,null,0,"div",[["class","user-avatar-placeholder"]],null,null,null,null,null)),(e()(),t["\u0275eld"](5,0,null,null,2,"div",[["class","text-sm activity-feed-placeholder-text-wrapper"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,0,"div",[["class","activity-feed-placeholder-text"]],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,0,"div",[["class","activity-feed-placeholder-date"]],null,null,null,null,null))],null,null)}function M(e){return t["\u0275vid"](0,[t["\u0275pid"](0,p.a,[[2,c.j]]),(e()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](2,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["noActivity",2]],null,0,null,T))],function(e,n){e(n,2,0,n.component.activity,t["\u0275nov"](n,3))},null)}},"88/9":function(e,n,l){"use strict";l.d(n,"a",function(){return o});var t=l("CcnG"),i=l("gIcY"),o=(l("5Zhs"),function(){function e(e,n,l,o,r,s){this.moderateGroupService=e,this.authService=n,this.errorHandlesService=l,this.translate=o,this.fb=r,this.userService=s,this.userChangePassword=new t.EventEmitter,this.groupName="",this.groupNotes="",this.notifications=[],this.userOldPassword="",this.userNewPassword="",this.userNewPasswordValidation="",this.isWorking=!1,this._complexForm=r.group({"user-new-password":new i.FormControl({value:"",disabled:this._lockCommentForm},i.Validators.required),"user-new-password-verify":new i.FormControl({value:"",disabled:this._lockCommentForm},[i.Validators.required])},{validator:this.checkNewPasswordMatch.bind(this)})}return e.prototype.ngOnInit=function(){console.log("hello `NewGroupModalComponent` component")},e.prototype.show=function(e){this.isWorking=!1,this.user=e,this.userChangePasswordModal.show()},e.prototype.onHidden=function(){var e=this;this.notifications=[],Object.keys(this._complexForm.controls).forEach(function(n){e._complexForm.controls[n].reset()}),this.isWorking=!1},e.prototype.changePassword=function(){console.log(this._complexForm)},e.prototype.checkNewPasswordMatch=function(e){var n={areEqual:!0,password1NeedDigits:!0,password1NeedLetters:!0,password2NeedDigits:!0,password2NeedLetters:!0,password1TooShort:!0,password2TooShort:!0},l=!1;return e.controls["user-new-password"].dirty&&e.controls["user-new-password-verify"].dirty&&e.controls["user-new-password"].value!==e.controls["user-new-password-verify"].value&&(n.areEqual=!1,l=!0),e.controls["user-new-password"].dirty&&0===e.controls["user-new-password"].value.replace(new RegExp("\\D+","g"),"").length&&(n.password1NeedDigits=!1,l=!0),e.controls["user-new-password"].dirty&&0===e.controls["user-new-password"].value.replace(new RegExp("\\d+","g"),"").length&&(n.password1NeedLetters=!1,l=!0),e.controls["user-new-password-verify"].dirty&&0===e.controls["user-new-password-verify"].value.replace(new RegExp("\\D+","g"),"").length&&(n.password2NeedDigits=!1,l=!0),e.controls["user-new-password-verify"].dirty&&0===e.controls["user-new-password-verify"].value.replace(new RegExp("\\d+","g"),"").length&&(n.password2NeedLetters=!1,l=!0),e.controls["user-new-password"].dirty&&e.controls["user-new-password"].value.length<8&&(n.password1TooShort=!1,l=!0),e.controls["user-new-password-verify"].dirty&&e.controls["user-new-password-verify"].value.length<8&&(n.password2TooShort=!1,l=!0),l||(n=null),n},e.prototype.submit=function(){var e=this;this.isWorking||(Object.keys(this._complexForm.controls).forEach(function(n){e._complexForm.controls[n].markAsDirty()}),this._complexForm.valid&&!this._complexForm.errors&&(this.isWorking=!0,this.userService.changePassword(this.user.id,this._complexForm.controls["user-new-password"].value,this._complexForm.controls["user-new-password-verify"].value).subscribe(function(n){e.userChangePasswordModal.hide(),e.userChangePassword.emit(e.user)},function(n){if(e.isValidJSON(n.error)){var l=JSON.parse(n.error);e.translate.get("useredit_error_"+l.errorCode.split("-").join("_")).subscribe(function(n){e.notifications.push({text:n,class:"error"})})}else e.notifications.push({text:n.error,class:"error"});e.isWorking=!1})))},e.prototype.isValidJSON=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},e}())},AX61:function(e,n,l){"use strict";l.d(n,"a",function(){return o});var t=l("CcnG"),i=(l("5Zhs"),l("Y6oN"),l("OFCM")),o=function(){function e(e,n,l,o,r){this.moderateGroupService=e,this.authService=n,this.errorHandlesService=l,this.translate=o,this.userService=r,this.userAuthorized=new t.EventEmitter,this.userAuthCancel=new t.EventEmitter,this.notifications=[],this.USERAUTHCOMMAND=i.Sa}return e.prototype.ngOnInit=function(){console.log("hello `UserAuthModalComponent` component")},e.prototype.show=function(e,n){this.userAuthModal.show(),this.user=e,this.currentCommand=n},e.prototype.onHidden=function(){this.notifications=[],this.userAuthCancel.emit()},e.prototype.submit=function(){var e=this;switch(this.currentCommand){case i.Sa.APPROVE:this.userService.approveModeratedUser(this.user).subscribe(function(n){e.userAuthModal.hide(),e.userAuthorized.emit({command:e.currentCommand,user:e.user})},function(n){e.translate.get("moderate.userprofile.user_profile_error").subscribe(function(l){e.notifications.push({class:"error",text:l}),e.errorHandlesService.handleHTTPError(n)})});break;case i.Sa.UNAPPROVE:this.userService.unapproveModeratedUser(this.user).subscribe(function(n){e.userAuthModal.hide(),e.userAuthorized.emit({command:e.currentCommand,user:e.user})},function(n){e.translate.get("moderate.userprofile.user_profile_error").subscribe(function(l){e.notifications.push({class:"error",text:l}),e.errorHandlesService.handleHTTPError(n)})})}},e}()},H29F:function(e,n,l){"use strict";var t=l("CcnG"),i=l("Ip0R"),o=l("A7o+"),r=l("DQlY"),s=l("lqqz"),a=l("gIcY");l("88/9"),l("NZqf"),l("8PDw"),l("gDAg"),l("Y6oN"),l.d(n,"a",function(){return u}),l.d(n,"b",function(){return h});var u=t["\u0275crt"]({encapsulation:0,styles:[[".modal-footer[_ngcontent-%COMP%]{text-align:right}.modal-title[_ngcontent-%COMP%]{margin-top:0;font:700 20px/26px artifakt-element,sans-serif,serif}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{margin-top:-25px;margin-right:-10px}.btn.btn-gray-sml[_ngcontent-%COMP%]{text-align:center;cursor:pointer;color:#595644;font-size:14px;font-weight:700;line-height:normal;background-color:#d8d8d8}.btn.btn-gray-sml[_ngcontent-%COMP%]:hover{color:#67644f;text-decoration:none;background-color:#e5e5e5}label[_ngcontent-%COMP%]{width:100%;display:block;margin:15px 0;font-size:18px}.form-control.user-new-password-verify[_ngcontent-%COMP%]{margin-top:15px}.alert-danger[_ngcontent-%COMP%]{margin-bottom:0}.notification[_ngcontent-%COMP%]{margin:5px 0;padding:10px}.notification.error[_ngcontent-%COMP%]{background-color:#db4e32;color:#f8d9d3}.notification.success[_ngcontent-%COMP%]{background-color:#72bd5b;color:#fff}"]],data:{}});function c(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","notification"]],null,null,null,null,null)),t["\u0275did"](1,278528,null,0,i.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),t["\u0275ted"](2,null,[" ",""]))],function(e,n){e(n,1,0,"notification",n.context.$implicit.class)},function(e,n){e(n,2,0,n.context.$implicit.text)})}function d(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](5,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](7,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](8,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](10,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](11,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](13,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](14,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef])],null,function(e,n){var l=n.component;e(n,1,0,!l._complexForm.controls["user-new-password"].errors||!l._complexForm.controls["user-new-password"].errors.required||!l._complexForm.controls["user-new-password"].dirty),e(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("user.changepwd.new_password_error"))),e(n,4,0,!l._complexForm.errors||l._complexForm.errors.areEqual),e(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("user.changepwd.new_password_error_match"))),e(n,7,0,!l._complexForm.errors||l._complexForm.errors.password1NeedDigits),e(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("user.changepwd.new_password_must_contains_digits"))),e(n,10,0,!l._complexForm.errors||l._complexForm.errors.password1NeedLetters),e(n,11,0,t["\u0275unv"](n,11,0,t["\u0275nov"](n,12).transform("user.changepwd.new_password_must_contains_letters"))),e(n,13,0,!l._complexForm.errors||l._complexForm.errors.password1TooShort),e(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform("user.changepwd.new_password_is_too_shot")))})}function p(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](5,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](7,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](8,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](10,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](11,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](13,0,null,null,2,"div",[],[[8,"hidden",0]],null,null,null,null)),(e()(),t["\u0275ted"](14,null,[" "," "])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef])],null,function(e,n){var l=n.component;e(n,1,0,!l._complexForm.controls["user-new-password-verify"].errors||!l._complexForm.controls["user-new-password-verify"].errors.required||!l._complexForm.controls["user-new-password-verify"].dirty),e(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("user.changepwd.new_password_error"))),e(n,4,0,!l._complexForm.errors||l._complexForm.errors.areEqual),e(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("user.changepwd.new_password_error_match"))),e(n,7,0,!l._complexForm.errors||l._complexForm.errors.password2NeedDigits),e(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("user.changepwd.new_password_must_contains_digits"))),e(n,10,0,!l._complexForm.errors||l._complexForm.errors.password2NeedLetters),e(n,11,0,t["\u0275unv"](n,11,0,t["\u0275nov"](n,12).transform("user.changepwd.new_password_must_contains_letters"))),e(n,13,0,!l._complexForm.errors||l._complexForm.errors.password2TooShort),e(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform("user.changepwd.new_password_is_too_shot")))})}function h(e){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{userChangePasswordModal:0}),t["\u0275qud"](402653184,2,{groupForm:0}),t["\u0275qud"](402653184,3,{groupNameControl:0}),(e()(),t["\u0275eld"](3,16777216,null,null,47,"div",[["aria-hidden","true"],["aria-labelledby","myLargeModalLabel"],["bsModal",""],["class","modal"],["role","dialog"],["tabindex","-1"]],null,[[null,"onHidden"],[null,"click"],[null,"keydown.esc"]],function(e,n,l){var i=!0,o=e.component;return"click"===n&&(i=!1!==t["\u0275nov"](e,4).onClick(l)&&i),"keydown.esc"===n&&(i=!1!==t["\u0275nov"](e,4).onEsc(l)&&i),"onHidden"===n&&(i=!1!==o.onHidden()&&i),i},null,null)),t["\u0275did"](4,212992,[[1,4],["userChangePasswordModal",4]],0,r.d,[t.ElementRef,t.ViewContainerRef,t.Renderer2,s.a],null,{onHidden:"onHidden"}),(e()(),t["\u0275eld"](5,0,null,null,45,"div",[["class","modal-dialog"]],null,null,null,null,null)),(e()(),t["\u0275eld"](6,0,null,null,44,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),t["\u0275eld"](7,0,null,null,10,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),t["\u0275eld"](8,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),t["\u0275eld"](9,0,null,null,4,"div",[["class","col-md-9"]],null,null,null,null,null)),(e()(),t["\u0275eld"](10,0,null,null,3,"h3",[["class","modal-title"]],null,null,null,null,null)),(e()(),t["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-key"],["title","Change password"]],null,null,null,null,null)),(e()(),t["\u0275ted"](12,null,[" ",""])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](14,0,null,null,3,"div",[["class","col-md-3 text-right"]],null,null,null,null,null)),(e()(),t["\u0275eld"](15,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(e,n,l){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](e,4).hide()&&i),i},null,null)),(e()(),t["\u0275eld"](16,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),t["\u0275ted"](-1,null,["\xd7"])),(e()(),t["\u0275eld"](18,0,null,null,25,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,c)),t["\u0275did"](20,278528,null,0,i.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["\u0275eld"](21,0,null,null,22,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,n,l){var i=!0,o=e.component;return"submit"===n&&(i=!1!==t["\u0275nov"](e,23).onSubmit(l)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](e,23).onReset()&&i),"ngSubmit"===n&&(i=!1!==o.changePassword()&&i),i},null,null)),t["\u0275did"](22,16384,null,0,a["\u0275angular_packages_forms_forms_bg"],[],null,null),t["\u0275did"](23,540672,null,0,a.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t["\u0275prd"](2048,null,a.ControlContainer,null,[a.FormGroupDirective]),t["\u0275did"](25,16384,null,0,a.NgControlStatusGroup,[[4,a.ControlContainer]],null,null),(e()(),t["\u0275eld"](26,0,null,null,6,"input",[["autocomplete",""],["class","form-control"],["name","user-new-password"],["type","password"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,l){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](e,27)._handleInput(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,27).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](e,27)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](e,27)._compositionEnd(l.target.value)&&i),i},null,null)),t["\u0275did"](27,16384,null,0,a.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(e){return[e]},[a.DefaultValueAccessor]),t["\u0275did"](29,540672,null,0,a.FormControlDirective,[[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR],[2,a["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,a.NgControl,null,[a.FormControlDirective]),t["\u0275did"](31,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,1,null,d)),t["\u0275did"](34,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](35,0,null,null,6,"input",[["autocomplete",""],["class","form-control user-new-password-verify"],["name","user-new-password-verify"],["type","password"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,l){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](e,36)._handleInput(l.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](e,36).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](e,36)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](e,36)._compositionEnd(l.target.value)&&i),i},null,null)),t["\u0275did"](36,16384,null,0,a.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,a.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,a.NG_VALUE_ACCESSOR,function(e){return[e]},[a.DefaultValueAccessor]),t["\u0275did"](38,540672,null,0,a.FormControlDirective,[[8,null],[8,null],[6,a.NG_VALUE_ACCESSOR],[2,a["\u0275angular_packages_forms_forms_j"]]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,a.NgControl,null,[a.FormControlDirective]),t["\u0275did"](40,16384,null,0,a.NgControlStatus,[[4,a.NgControl]],null,null),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](43,16384,null,0,i.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](44,0,null,null,6,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),t["\u0275eld"](45,0,null,null,2,"button",[["class","btn btn-default btn-primary"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.submit()&&t),t},null,null)),(e()(),t["\u0275ted"](46,null,["",""])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](48,0,null,null,2,"button",[["class","btn btn-default "],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],function(e,n,l){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](e,4).hide()&&i),i},null,null)),(e()(),t["\u0275ted"](49,null,["",""])),t["\u0275pid"](131072,o.i,[o.j,t.ChangeDetectorRef])],function(e,n){var l=n.component;e(n,4,0),e(n,20,0,l.notifications),e(n,23,0,l._complexForm),e(n,29,0,l._complexForm.controls["user-new-password"]),e(n,34,0,l._complexForm.controls["user-new-password"].dirty&&l._complexForm.errors||l._complexForm.controls["user-new-password"].errors&&l._complexForm.controls["user-new-password"].dirty),e(n,38,0,l._complexForm.controls["user-new-password-verify"]),e(n,43,0,l._complexForm.controls["user-new-password-verify"].dirty&&l._complexForm.errors||l._complexForm.controls["user-new-password-verify"].errors&&l._complexForm.controls["user-new-password-verify"].dirty)},function(e,n){var l=n.component;e(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("user.change_password_title"))),e(n,21,0,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending),e(n,26,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,26,0,t["\u0275nov"](n,32).transform("user.changepwd.new_password_placeholder")),"*"),t["\u0275nov"](n,31).ngClassUntouched,t["\u0275nov"](n,31).ngClassTouched,t["\u0275nov"](n,31).ngClassPristine,t["\u0275nov"](n,31).ngClassDirty,t["\u0275nov"](n,31).ngClassValid,t["\u0275nov"](n,31).ngClassInvalid,t["\u0275nov"](n,31).ngClassPending),e(n,35,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,35,0,t["\u0275nov"](n,41).transform("user.changepwd.verify_new_password_placeholder")),"*"),t["\u0275nov"](n,40).ngClassUntouched,t["\u0275nov"](n,40).ngClassTouched,t["\u0275nov"](n,40).ngClassPristine,t["\u0275nov"](n,40).ngClassDirty,t["\u0275nov"](n,40).ngClassValid,t["\u0275nov"](n,40).ngClassInvalid,t["\u0275nov"](n,40).ngClassPending),e(n,45,0,l.isWorking),e(n,46,0,t["\u0275unv"](n,46,0,t["\u0275nov"](n,47).transform("user.changepwd.save_btn"))),e(n,49,0,t["\u0275unv"](n,49,0,t["\u0275nov"](n,50).transform("user.changepwd.cancel_btn")))})}},RuBs:function(e,n,l){"use strict";l("AX61")},Vg2T:function(e,n,l){"use strict";l.d(n,"a",function(){return u});var t=l("mrSG"),i=l("CcnG"),o=l("gIcY"),r=(l("5Zhs"),l("OFCM")),s=(l("gG+F"),l("9uVP")),a=(l("W85d"),l("RuBs"),l("dchT"),l("W5pF"),l("AytR")),u=function(){function e(e,n,l,t,o,s,u,c,d,p){var h;this.authService=e,this.errorHandlesService=n,this.translate=l,this.userService=t,this.fb=o,this.profanityFilterService=s,this.platformService=u,this.metaService=c,this.teachService=d,this.apiService=p,this.embedded=!1,this.userEdited=new i.EventEmitter,this.closeButtonClicked=new i.EventEmitter,this.notifications=[],this.loadingProfilePhoto=!1,this.loadedProfilePhoto=!1,this._lockForm=!1,this.userAuthModalOpened=!1,this.profileOwner=!1,this.editData={screenName:"",email:"",bio:"",thingiverseEnabled:!1,miniFactoryEnabled:!1},this.thirdPartyServices=r.Ka,this.workingServices=((h={})[r.Ka.THINGIVERSE]=!1,h[r.Ka.MYMINIFACTORY]=!1,h),this.enableRoleSelection=!1,this.availableRoles=this.setAvailableRoles(),this.autodeskProfileUrl=a.a.AUTODESK_PROFILE_HOST,this.autodeskProfileSecurityUrl=this.autodeskProfileUrl+"/security",this.logoutAllTinkercadSessionsUrl="",this.autodeskKnowledgeBaseUrl="https://knowledge.autodesk.com/customer-service/account-management/account-profile/account-security/delete-your-autodesk-account",this.yesNoModalTitle="",this.yesNoModalBodyContent="",this.yesNoModalYesLabel="",this.yesNoModalNoLabel="",this.yesNoModalErrors=[],this.noButtonClasses=["btn-link"],this.yesNoModaltitleStyles={},this.yesNoConfirmWithCheck=!1,this.yesNoConfirmWithCheckLabel="",this.USER_MAX_DESCRIPTION_LENGTH=r.ab,this.userInSafeMode=!1,this.actionWorking=!1,this.unverifiedTeacher=!1,this.currentUser=this.authService.getUser(),this.USERSTATUS=r.Ya}return e.prototype.ngOnInit=function(){var e=this;console.log("hello `UserEditFormComponent` component"),this.autodeskProfileUrl=this.apiService.getAPIEndpoint("AUTODESK_PROFILE_HOST"),this.autodeskProfileSecurityUrl=this.autodeskProfileUrl+"/security",this.logoutAllTinkercadSessionsUrl=s.a.LogoutURL(this.apiService.getAPIEndpoint("TINKERCAD_V2_ENDPOINT"),this.authService.getCSRFToken())+"&allDevices=true";var n=this.user,l=n.status,t=n.id,i="",a="",u="";this.user&&this.user.id===this.currentUser.id&&(i=this.currentUser.screenName,a=this.currentUser.bio,u=this.user.getRole(),this.enableRoleSelection=!0,this.userInSafeMode=!this.user.testUserRestrictions([r.Va.RESTRICTMAKEDESIGNPUBLIC]),this._lockForm=this.userInSafeMode),this.currentUserStatus=l,this.notifications=[],this.loadingProfilePhoto=!0,this.loadedProfilePhoto=!1,this.profileOwner=this.currentUser.id===t,this._complexForm=this.fb.group({"user-name":new o.FormControl({value:i,disabled:this._lockForm},[o.Validators.required]),"user-bio":new o.FormControl({value:a,disabled:this._lockForm},[o.Validators.maxLength(r.ab)]),"user-photo":new o.FormControl({value:"",disabled:this._lockForm})}),this.enableRoleSelection&&(u!==r.Wa.TEACHER||this.user.isVerifiedAdult()?this._complexForm.addControl("user-role",new o.FormControl({value:u,disabled:this.handleRoleSelectionOptions(u)})):(u="",this.unverifiedTeacher=!0,this._complexForm.addControl("user-role",new o.FormControl({value:u,disabled:this.handleRoleSelectionOptions(r.Wa.TEACHER)})))),this.resetState(),this.user&&this.userService.getUser(this.user.id).subscribe(function(n){var l=e.fetchEditData(n);e.editData=l,e._complexForm.controls["user-name"].setValue(l.screenName||i),e._complexForm.controls["user-bio"].setValue(l.bio||a)}),this.translate.get("meta.user-profile.username",{".userName":this.user.screenName}).subscribe(function(n){e.metaService.setTitle(n)})},e.prototype.onLoadProfilePhoto=function(){this.loadingProfilePhoto=!1,this.loadedProfilePhoto=!0},e.prototype.onErrorProfilePhoto=function(){this.loadingProfilePhoto=!1,this.loadedProfilePhoto=!1},e.prototype.toggleService=function(e,n){n?this.connectToService(e):this.disconnectToService(e)},e.prototype.toggleServiceURL=function(e,n){return n?this.connectToServiceURL(e):this.disconnectToServiceURL(e)},e.prototype.connectToServiceURL=function(e){return this.userService.connectToThirdPartyServiceURL(this.user,e)},e.prototype.disconnectToServiceURL=function(e){return this.userService.disconnectFromThirdPartyServiceURL(this.user,e)},e.prototype.connectToService=function(e){var n=this;this.workingServices[e]||(this.workingServices[e]=!0,this.userService.connectToThirdPartyService(this.user,e).subscribe(function(l){switch(n.workingServices[e]=!1,e){case r.Ka.THINGIVERSE:n.editData.thingiverseEnabled=!0;break;case r.Ka.MYMINIFACTORY:n.editData.miniFactoryEnabled=!0}}))},e.prototype.disconnectToService=function(e){var n=this;this.workingServices[e]||(this.workingServices[e]=!0,this.userService.disconnectFromThirdPartyService(this.user,e).subscribe(function(l){switch(n.workingServices[e]=!1,e){case r.Ka.THINGIVERSE:n.editData.thingiverseEnabled=!1;break;case r.Ka.MYMINIFACTORY:n.editData.miniFactoryEnabled=!1}}))},e.prototype.updateModeratedUser=function(){var e=this;this._complexForm.controls["user-name"].markAsDirty(),this.notifications=[],console.log(this._complexForm,this.fileField),this._complexForm.valid&&!this._lockForm&&(this._lockForm=!0,this.userService.updateModeratedUserProfile(this.user,{name:this._complexForm.controls["user-name"].value,image:this.fileField.nativeElement.files.length>0?this.fileField.nativeElement.files[0]:null,bio:this._complexForm.controls["user-bio"].value}).subscribe(function(n){var l;e._lockForm=!1,l=Object.prototype.hasOwnProperty.call(n,"user_info")?e.fetchEditData(n.user_info):e.fetchEditData(n),e.user.mergeData(Object.prototype.hasOwnProperty.call(n,"user_info")?n.user_info:n),l.profileImage!==e.user.profileImageURL75&&(e.user.profileImageURL75=l.profileImage,e.loadingProfilePhoto=!0,e.loadedProfilePhoto=!1),e.profileOwner&&e.authService.setUser(e.user),e.editData=l,e.notifications.push({class:"success",label:"moderate.userprofile.user_profile_success"})},function(n){var l;(l="[object String]"===Object.prototype.toString.call(n)?JSON.parse(n):t.__assign({},n)).errors&&Object.keys(l.errors).forEach(function(n){var t;switch(n){case"bio":t=e._complexForm.controls["user-bio"];break;case"name":t=e._complexForm.controls["user-name"];break;case"image":t=e._complexForm.controls["user-photo"];break;case"other":e.notifications.push({class:"error",label:"oxygen_errors.ID-UU"})}t&&t.setErrors({server:l.errors[n]})}),e._lockForm=!1,e.notifications.length||e.notifications.push({class:"error",label:"moderate.userprofile.user_profile_error"}),e.errorHandlesService.handleHTTPError(n)}))},e.prototype.activedUser=function(){this.performUserModerationAction(r.Ua.UNSUSPEND)},e.prototype.suspendUser=function(){this.performUserModerationAction(r.Ua.SUSPEND)},e.prototype.deleteUser=function(){this.performUserModerationAction(r.Ua.DELETE)},e.prototype.performUserModerationAction=function(e){var n=this;if(!this.actionWorking){switch(this.yesNoModaltitleStyles={},this.yesNoConfirmWithCheck=!1,this.yesNoConfirmWithCheckLabel="",e){case r.Ua.BAN:this.translate.get(["sb_banuser_ban_this_account","sb_banuser_close","sb_banuser_ban","sb_banuser_ban_confirmmsg"],{".userName":this.user.getName()}).subscribe(function(e){n.yesNoModalTitle=e.sb_banuser_ban_this_account,n.yesNoModalYesLabel=e.sb_banuser_ban,n.yesNoModalNoLabel=e.sb_banuser_close,n.yesNoModalBodyContent=e.sb_banuser_ban_confirmmsg});break;case r.Ua.UNBAN:this.translate.get(["sb_banuser_unban_this_account","sb_banuser_close","sb_banuser_unban","sb_banuser_unban_confirmmsg"],{".userName":this.user.getName()}).subscribe(function(e){n.yesNoModalTitle=e.sb_banuser_unban_this_account,n.yesNoModalYesLabel=e.sb_banuser_unban,n.yesNoModalNoLabel=e.sb_banuser_close,n.yesNoModalBodyContent=e.sb_banuser_unban_confirmmsg});break;case r.Ua.SUSPEND:this.translate.get(["sb_approve_account_approved","sb_approve_close_btn","sb_approve_suspend_btn","sb_approve_approved_to_use_tk"],{".userName":this.user.getName()}).subscribe(function(e){n.yesNoModalTitle=e.sb_approve_account_approved,n.yesNoModalYesLabel=e.sb_approve_suspend_btn,n.yesNoModalNoLabel=e.sb_approve_close_btn,n.yesNoModalBodyContent=e.sb_approve_approved_to_use_tk});break;case r.Ua.UNSUSPEND:this.yesNoModaltitleStyles={color:"red"},this.translate.get(["sb_approve_account_suspended","sb_approve_maybe_later","sb_approve_reinstate_btn","sb_approve_registerd_as_under13"],{".userName":this.user.getName()}).subscribe(function(e){n.yesNoModalTitle=e.sb_approve_account_suspended,n.yesNoModalYesLabel=e.sb_approve_reinstate_btn,n.yesNoModalNoLabel=e.sb_approve_maybe_later,n.yesNoModalBodyContent=e.sb_approve_registerd_as_under13});break;case r.Ua.DELETE:this.yesNoConfirmWithCheck=!0,this.translate.get(["sb_delete_","sb_delete_close","sb_delete_delete_btn","sb_delete_activate_button","sb_delete_about_to_delete"],{".userName":this.user.getName()}).subscribe(function(e){n.yesNoModalTitle=e.sb_delete_,n.yesNoModalYesLabel=e.sb_delete_delete_btn,n.yesNoModalNoLabel=e.sb_delete_close,n.yesNoConfirmWithCheckLabel=e.sb_delete_activate_button,n.yesNoModalBodyContent=e.sb_delete_about_to_delete})}this.yesNoModal.show(e)}},e.prototype.userActionConfirmationModal=function(e){var n=this;if(!this.actionWorking){switch(this.notifications=[],this.actionWorking=!0,e){case r.Ua.BAN:this.userService.banUser(this.user).subscribe(function(e){n.user.status=e.status,n.user.oldStatus=e.oldStatus,n.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.actionWorking=!1},function(e){n.notifications.push({label:"user-profile-performed_action_error",class:"error"}),n.actionWorking=!1});break;case r.Ua.UNBAN:this.userService.unBanUser(this.user).subscribe(function(e){n.user.status=e.status,n.user.oldStatus=e.oldStatus,n.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.actionWorking=!1},function(e){n.notifications.push({label:"user-profile-performed_action_error",class:"error"}),n.actionWorking=!1});break;case r.Ua.SUSPEND:this.userService.unApproveUser(this.user).subscribe(function(e){n.user.status=e.status,n.user.subscriptionPlanId=e.subscriptionPlanId,n.user.oldStatus=e.oldStatus,n.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.actionWorking=!1},function(e){n.notifications.push({label:"user-profile-performed_action_error",class:"error"}),n.actionWorking=!1});break;case r.Ua.UNSUSPEND:this.userService.approveUser(this.user).subscribe(function(e){n.user.status=e.status,n.user.subscriptionPlanId=e.subscriptionPlanId,n.user.oldStatus=e.oldStatus,n.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.actionWorking=!1},function(e){n.notifications.push({label:"user-profile-performed_action_error",class:"error"}),n.actionWorking=!1});break;case r.Ua.DELETE:this.userService.deleteUser(this.user).subscribe(function(e){if(n.user.status=e.status,n.user.oldStatus=e.oldStatus,n.notifications.push({label:"user-profile-performed_action_success",class:"success"}),n.actionWorking=!1,n.platformService.isOnBrowser()){var l=n.currentUser.getUserLongURL()+"/moderate";window.location.href=l}},function(e){n.notifications.push({label:"user-profile-performed_action_error",class:"error"}),n.actionWorking=!1})}this.yesNoModal.hide()}},e.prototype.onUserAuthorized=function(e){switch(e.command){case r.Sa.APPROVE:this.currentUserStatus=e.user.status=r.Ya.USERSTATUSAPPROVEDCHILD;break;case r.Sa.UNAPPROVE:this.currentUserStatus=e.user.status=r.Ya.USERSTATUSSUSPENDEDCHILD}},e.prototype.onUserAuthCancel=function(){this.userAuthModalOpened=!1},e.prototype.closeOperation=function(){this.closeButtonClicked.emit()},e.prototype.changeRole=function(e){var n=this,l=e.target.value;e.target.value===r.Wa.TEACHER?this.verifyAdultModal.openVerifyAdult(this.unverifiedTeacher):this.teachService.setRole(l).subscribe(function(e){var l=n.authService.getUser().getRAW();l.role=e.Role,n.authService.setUser(l),n.user=n.authService.getUser()},function(e){console.log(e)}),this.handleRoleSelectionOptions(l)},e.prototype.fetchEditData=function(e){return{screenName:e.screenName||e.screen_name||"",email:e.email||"",bio:e.bio||"",profileImage:e.profileImage||e.profile_image||"",thingiverseEnabled:e.thingiverse_enabled||e.thingiverseEnabled||!1,miniFactoryEnabled:e.miniFactoryEnabled||e.miniFactory_enabled||!1}},e.prototype.resetState=function(){var e;this.editData={screenName:"",email:"",bio:"",thingiverseEnabled:!1,miniFactoryEnabled:!1},this.workingServices=((e={})[r.Ka.THINGIVERSE]=!1,e[r.Ka.MYMINIFACTORY]=!1,e)},e.prototype.isValidForm=function(){var e=this._complexForm.valid,n=this._complexForm.controls&&this._complexForm.controls["user-bio"]?this._complexForm.controls["user-bio"].value:"",l=""===n;return""!==n&&(l=!this.profanityFilterService.containsProfanity(n)),e&&l},e.prototype.setAvailableRoles=function(){return[{id:0,role:{value:r.Wa.STUDENT,label:"teach_role_student",disabled:!1}},{id:1,role:{value:r.Wa.TEACHER,label:"teach_role_teacher",disabled:!1}},{id:2,role:{value:r.Wa.PARENT,label:"teach_role_parent",disabled:!1}},{id:3,role:{value:r.Wa.OTHER,label:"join-page.personal.lead",disabled:!1}}]},e.prototype.handleRoleSelectionOptions=function(e){var n=this.user.isChild(),l=this.setAvailableRoles();return n?l.map(function(e){return e.role.disabled=e.role.value!==r.Wa.STUDENT}):(this.user.isVerifiedAdult()&&e===r.Wa.TEACHER||e===r.Wa.TEACHER)&&l.map(function(e){return e.role.disabled=e.role.value!==r.Wa.TEACHER}),this.availableRoles=l.slice(),!1},e}()},acRH:function(e,n,l){"use strict";var t=l("P575"),i=(l("RuBs"),l("y8Qd")),o=l("W9Ru"),r=l("88/9"),s=l("Vg2T"),a=l("CcnG"),u=(l("Jc0W"),l("5Zhs"),l("OFCM")),c=l("9uVP"),d=function(){function e(e,n,l,t,i,o){this.moderateGroupService=e,this.authService=n,this.errorHandlesService=l,this.translate=t,this.userService=i,this.fb=o,this.userEdited=new a.EventEmitter,this.notifications=[],this._lockForm=!1,this.userAuthModalOpened=!1,this.USERSTATUS=u.Ya,this.Utils=c.a}return e.prototype.ngOnInit=function(){console.log("hello `NewGroupModalComponent` component")},e.prototype.show=function(e){this.user=e,this.currentUserStatus=e.status,this.userEditModal.show()},e}(),p=function(){function e(e,n){this.translate=e,this.componentFactoryResolver=n,this.rows=[],this.selected=[],this.users=[],this.itemsPerPage=-1,this.selectionType=void 0,this.showMoreButton=!1,this.showMoreButtonItemsPerPage=10,this.avatarWidth=40,this.avatarHeight=40,this.avatarRoundedAvatar=!1,this.avatarQuality=u.Ta.SIZE_40,this.columns=[],this.extraData={},this.headerAndRowsCheckboxable=!1,this.hideShowMoreButton=!1,this.showAllItems=!1,this.userCommand=new a.EventEmitter,this.userSelected=new a.EventEmitter,this.userClicked=new a.EventEmitter,this.currentShowMorePageIndex=0,this.componentsCommandBinded=!1,this.componentsCommandColumnsBinded=[]}return e.prototype.ngOnInit=function(){console.log("hello `UsersTableComponent` component"),this.checkForCheckboxableHeaderAndRows()},e.prototype.ngOnChanges=function(e){this.checkForCheckboxableHeaderAndRows()},e.prototype.ngAfterViewChecked=function(){this.columns&&this.componentCommandContainer&&this.componentCommandContainer.length>0&&!this.componentsCommandBinded&&(this.componentsCommandBinded=!0,this.bindColumnsComponents())},e.prototype.onSortContent=function(e){this.componentsCommandBinded=!1,this.componentsCommandColumnsBinded=[]},e.prototype.onSelect=function(e){this.selected=e.selected,this.userSelected.emit(e.selected)},e.prototype.onActivate=function(e){this.userClicked.emit(e.row)},e.prototype.getColumnWidth=function(e){var n=100/this.columns.length;return e.action&&(n=40),e.width&&(n=e.width),n},e.prototype.columnCommand=function(e,n){e!==u.Ba.NONE&&this.userCommand.emit({user:n,command:e})},e.prototype.blankSelection=function(){this.selected=[]},e.prototype.showMoreItems=function(){this.rows=this.users.slice(),this.showAllItems=!0,this.componentsCommandBinded=!1},e.prototype.checkForCheckboxableHeaderAndRows=function(){var e=this;if(this.componentsCommandBinded=!1,this.componentsCommandColumnsBinded=[],this.headerAndRowsCheckboxable=void 0!==this.selectionType&&"checkbox"===this.selectionType,this.showMoreButton&&!this.showAllItems?(this.itemsPerPage=-1,this.rows=[],this.currentShowMorePageIndex=0,this.hideShowMoreButton=!1,this.loadMoreItems()):this.rows=this.users.slice(),this.selected&&this.selected.length>0){var n=this.selected.filter(function(n){return e.users.indexOf(n)>=0});this.selected=n.slice()}},e.prototype.getRowClass=function(e){return{"user-status-suspend":e.status===u.Ya.USERSTATUSSUSPENDEDCHILD}},e.prototype.checkForEnabledCommand=function(e,n){var l=!0;return e&&e.disabledFor&&e.disabledFor.indexOf(n.id+"")>=0&&(l=!1),n.userTableActionsEnabled||(l=!1),n.hasUsersTableActionsDisabled()&&(l=!n.checkUsersTableActionDisabled(e.command)),l},e.prototype.userCommandWorking=function(e,n){return n&&n.statesToggle&&e.working},e.prototype.userCommandState=function(e,n){return e&&n&&n.statesToggle&&n.statesToggleValidation&&Object.prototype.hasOwnProperty.call(e,n.statesToggleValidation.property)&&e[n.statesToggleValidation.property]===n.statesToggleValidation.valueOn},e.prototype.loadMoreItems=function(){this.rows=this.rows.concat(this.users.slice(this.currentShowMorePageIndex*this.showMoreButtonItemsPerPage,(this.currentShowMorePageIndex+1)*this.showMoreButtonItemsPerPage)),(this.currentShowMorePageIndex+1)*this.showMoreButtonItemsPerPage>=this.users.length&&(this.hideShowMoreButton=!0)},e.prototype.bindColumnsComponents=function(){var e=this;if(this.componentCommandContainer.length>0){var n=this.columns.filter(function(e,n){return e.action&&e.commandDef&&e.commandDef.componentCommand});n.length>0&&this.componentCommandContainer.forEach(function(l,t){if(!e.componentsCommandColumnsBinded[t]){e.componentsCommandColumnsBinded[t]=!0;var i=n[t%n.length],o=(Math.floor(t+1/n.length),l.element.nativeElement.getAttribute("data-rid")),r=e.rows.find(function(e){return e.id===o});e.initializateCommandComponent(i.commandDef.componentCommand,l,r)}})}},e.prototype.initializateCommandComponent=function(e,n,l){var t=this;e&&setTimeout(function(){var i=t.componentFactoryResolver.resolveComponentFactory(e);n.clear();var o,r=n.createComponent(i,void 0,void 0,void 0).instance;(Object.prototype.hasOwnProperty.call(r,"subject")&&(r.subject=l),Object.prototype.hasOwnProperty.call(r,"extraData")&&(r.extraData=t.extraData),r.ngOnChanges)&&(o=r.extraData?{subject:new a.SimpleChange(null,l,!1),extraData:new a.SimpleChange(null,t.extraData,!1)}:{subject:new a.SimpleChange(null,l,!1)},r.ngOnChanges(o))})},e}();l.d(n,!1,function(){return t.a}),l.d(n,!1,function(){}),l.d(n,!1,function(){return i.a}),l.d(n,!1,function(){return o.a}),l.d(n,!1,function(){return r.a}),l.d(n,!1,function(){return s.a}),l.d(n,!1,function(){return d}),l.d(n,!1,function(){return p})},dxHO:function(e,n,l){"use strict";var t=l("CcnG"),i=l("0BaN"),o=l("vfWh"),r=l("8PDw"),s=l("A7o+"),a=l("Ip0R"),u=l("+Lhe"),c=l("W85d");l("+Qs5"),l("Y6oN"),l("ZYCi"),l("ZjV8"),l("ebiF"),l.d(n,"a",function(){return d}),l.d(n,"b",function(){return R});var d=t["\u0275crt"]({encapsulation:0,styles:[[".user-profile-moderate-kids-wrapper[_ngcontent-%COMP%]{border:1px solid gray;padding:5px 20px;margin-bottom:32px}.user-profile-moderate-kids-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:1px solid #dbd9d6;line-height:45px}.user-profile-moderate-kids-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px}.user-profile-moderate-kids-wrapper[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;cursor:pointer;font-size:15px}.activity-feed-wrapper[_ngcontent-%COMP%]{display:flex}.activity-feed-wrapper[_ngcontent-%COMP%]   .activity-feed-wrapper-left[_ngcontent-%COMP%]{flex-grow:1}.activity-feed-wrapper[_ngcontent-%COMP%]   .activity-feed-wrapper-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px 0}.activity-feed-wrapper[_ngcontent-%COMP%]   .activity-feed-wrapper-right[_ngcontent-%COMP%]   .action-link[_ngcontent-%COMP%]{display:inline-block;color:#ff1e23;cursor:pointer}.activity-feed-wrapper.activity-item-deleted[_ngcontent-%COMP%]{opacity:.7;font-style:italic}.activity-feed-wrapper.activity-item-deleted[_ngcontent-%COMP%]     *{color:#706e67}.activity-feed-wrapper.activity-item-deleted[_ngcontent-%COMP%]     img{-webkit-filter:grayscale(1);filter:grayscale(1)}.notification[_ngcontent-%COMP%]{margin:5px 0;padding:10px}.btn-load-more-activities[_ngcontent-%COMP%]{margin-top:20px}p.no-content[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     tkactivityfeed .activity-row-wrapper, [_nghost-%COMP%]     tkactivityfeed .activity-row-wrapper:hover, [_nghost-%COMP%]     tkactivityfeed .unseen, [_nghost-%COMP%]     tkactivityfeed .unseen:hover{background-color:transparent}[_nghost-%COMP%]     tkactivityfeed .activity-row-wrapper{padding:0}"]],data:{}});function p(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","activity-feed-wrapper-left"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"tkActivityFeed",[],null,null,null,i.b,i.a)),t["\u0275did"](3,180224,null,0,o.a,[r.a,s.j],{activity:[0,"activity"],mode:[1,"mode"]},null),(e()(),t["\u0275eld"](4,0,null,null,0,"div",[["class","activity-feed-wrapper-right"]],null,null,null,null,null))],function(e,n){e(n,3,0,n.parent.context.$implicit,n.component.activityFeedMode)},null)}function h(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","action-link"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.unlikeDesignClick(e.parent.parent.parent.parent.context.$implicit)&&t),t},null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("useredit_unreact_btn")))})}function f(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","action-link"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.likeDesignClick(e.parent.parent.parent.parent.context.$implicit)&&t),t},null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("questreactions-react_button")))})}function m(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,f)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],function(e,n){var l=n.component;e(n,2,0,(null==n.parent.parent.parent.context.$implicit.statuseTypeData?null:n.parent.parent.parent.context.$implicit.statuseTypeData.status)===l.LIKESTATUS.LIKE),e(n,4,0,(null==n.parent.parent.parent.context.$implicit.statuseTypeData?null:n.parent.parent.parent.context.$implicit.statuseTypeData.status)===l.LIKESTATUS.UNLIKE)},null)}function g(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","action-link"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.banCommentDesignClick(e.parent.parent.parent.parent.context.$implicit)&&t),t},null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("thingcover-ban_btn")))})}function v(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","action-link"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.restoreCommentDesignClick(e.parent.parent.parent.parent.context.$implicit)&&t),t},null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("useredit_restore_comment")))})}function b(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,g)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,v)),t["\u0275did"](4,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](0,null,null,0))],function(e,n){e(n,2,0,!(null!=n.parent.parent.parent.context.$implicit.statuseTypeData&&n.parent.parent.parent.context.$implicit.statuseTypeData.banned)),e(n,4,0,null==n.parent.parent.parent.context.$implicit.statuseTypeData?null:n.parent.parent.parent.context.$implicit.statuseTypeData.banned)},null)}function _(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"a",[["class","action-link"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.banDesignClick(e.parent.parent.parent.parent.context.$implicit)&&t),t},null,null)),(e()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef]),(e()(),t["\u0275eld"](4,0,null,null,2,"a",[["class","action-link"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),t["\u0275ted"](5,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("thingcover-ban_btn"))),e(n,4,0,null==n.parent.parent.parent.parent.context.$implicit?null:null==n.parent.parent.parent.parent.context.$implicit.design?null:n.parent.parent.parent.parent.context.$implicit.design.getEditURL()),e(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("useredit_edit_thing")))})}function y(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"a",[["class","action-link"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.restoreDesignClick(e.parent.parent.parent.parent.context.$implicit)&&t),t},null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("useredit_restore_btn")))})}function C(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](2,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["designNotBanned",2]],null,0,null,y))],function(e,n){e(n,2,0,(null==n.parent.parent.parent.context.$implicit.design?null:n.parent.parent.parent.context.$implicit.design.status)!==n.component.DESIGNSTATUS.AssemblyStatusBanned,t["\u0275nov"](n,3))},null)}function w(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","activity-feed-wrapper-right"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,7,null,null,null,null,null,null,null)),t["\u0275did"](2,16384,null,0,a.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](4,278528,null,0,a.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,a.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,b)),t["\u0275did"](6,278528,null,0,a.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,a.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,C)),t["\u0275did"](8,278528,null,0,a.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,a.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,n){var l=n.component;e(n,2,0,n.parent.parent.context.$implicit.getCategory()),e(n,4,0,l.STATUSES.LIKE),e(n,6,0,l.STATUSES.COMMENT),e(n,8,0,l.STATUSES.COPIED+l.STATUSES.DESIGNED)},null)}function S(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,1,"div",[["class","activity-feed-wrapper-right"]],null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null))],null,null)}function E(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","activity-feed-wrapper-left"]],null,null,null,null,null)),(e()(),t["\u0275eld"](2,0,null,null,1,"tkActivityFeed",[],null,null,null,i.b,i.a)),t["\u0275did"](3,180224,null,0,o.a,[r.a,s.j],{activity:[0,"activity"],mode:[1,"mode"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,w)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),t["\u0275and"](0,[["deletedActivityItemTemplate",2]],null,0,null,S))],function(e,n){var l=n.component;e(n,3,0,n.parent.context.$implicit,l.activityFeedMode),e(n,5,0,(null==n.parent.context.$implicit.design?null:n.parent.context.$implicit.design.status)!==l.DESIGNSTATUS.AssemblyStatusDeleted&&((null==n.parent.context.$implicit?null:n.parent.context.$implicit.getCategory())!==l.STATUSES.COMMENT||!(null!=n.parent.context.$implicit.statuseTypeData&&n.parent.context.$implicit.statuseTypeData.deleted)),t["\u0275nov"](n,6))},null)}function N(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","activity-feed-wrapper"]],[[8,"title",0]],null,null,null,null)),t["\u0275did"](1,278528,null,0,a.NgClass,[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](2,{"activity-item-deleted":0}),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef]),(e()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](7,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var l=n.component;e(n,1,0,"activity-feed-wrapper",e(n,2,0,(null==n.context.$implicit?null:null==n.context.$implicit.design?null:n.context.$implicit.design.status)==l.DESIGNSTATUS.AssemblyStatusDeleted||(null==n.context.$implicit?null:n.context.$implicit.getCategory())==l.STATUSES.COMMENT&&(null==n.context.$implicit.statuseTypeData?null:n.context.$implicit.statuseTypeData.deleted))),e(n,5,0,!n.context.$implicit),e(n,7,0,n.context.$implicit)},function(e,n){var l=n.component;e(n,0,0,t["\u0275unv"](n,0,0,t["\u0275nov"](n,3).transform((null==n.context.$implicit?null:null==n.context.$implicit.design?null:n.context.$implicit.design.status)==l.DESIGNSTATUS.AssemblyStatusDeleted?"activity-item-deleted":"")))})}function T(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","no-content"]],null,null,null,null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("activity-stream-no-content")))})}function M(e){return t["\u0275vid"](0,[(e()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-primary btn-load-more-activities"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.loadNextPage(l)&&t),t},null,null)),(e()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,s.i,[s.j,t.ChangeDetectorRef])],null,function(e,n){e(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("activity-stream-load_more")))})}function R(e){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{yesNoModal:0}),(e()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","user-profile-moderate-kids-wrapper"]],null,null,null,null,null)),(e()(),t["\u0275and"](16777216,null,null,1,null,N)),t["\u0275did"](3,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275and"](16777216,null,null,1,null,M)),t["\u0275did"](7,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["\u0275eld"](8,0,null,null,1,"tk-yes-no-modal",[],null,[[null,"onConfirmAction"]],function(e,n,l){var t=!0;return"onConfirmAction"===n&&(t=!1!==e.component.userActionConfirmationModal(l)&&t),t},u.b,u.a)),t["\u0275did"](9,4308992,[[1,4],["yesNoModal",4]],0,c.a,[],{title:[0,"title"],bodyContent:[1,"bodyContent"],yesLabel:[2,"yesLabel"],noLabel:[3,"noLabel"],notifications:[4,"notifications"],confirmWithCheck:[5,"confirmWithCheck"],confirmWithCheckLabel:[6,"confirmWithCheckLabel"],noButtonClasses:[7,"noButtonClasses"],titleStyles:[8,"titleStyles"]},{onConfirmAction:"onConfirmAction"})],function(e,n){var l=n.component;e(n,3,0,l.activity,l.activityTrackBy),e(n,5,0,0===l.activity.length),e(n,7,0,l.showLoadMoreButton),e(n,9,0,l.yesNoModalTitle,l.yesNoModalBodyContent,l.yesNoModalYesLabel,l.yesNoModalNoLabel,l.yesNoModalErrors,l.yesNoConfirmWithCheck,l.yesNoConfirmWithCheckLabel,l.noButtonClasses,l.yesNoModaltitleStyles)},null)}},vfWh:function(e,n,l){"use strict";l.d(n,"a",function(){return r}),l("5Zhs");var t=l("OFCM"),i=(l("gG+F"),l("a/Fz")),o=l("9uVP"),r=function(){function e(e,n){var l=this;this.authService=e,this.translate=n,this.mode=t.c.NORMAL,this.STATUSES=t.Ea,this.ACTIVITY_FEED_MODE=t.c,this.DESIGNSTATUS=t.r,this.defaultReactions=[],this.reactionLabels=[],this.REACTIONTYPES=i.e,this.REACTIONSLABELS=i.c,this.Utils=o.a,this.rawCommentData=null,this.subscriptions=[],this._currentUser=this.authService.getUser(),this.defaultReactions=o.a.getAvailableReactions(),this.defaultReactions.forEach(function(e){l.subscriptions.push(n.get(e.label).subscribe(function(e){return l.reactionLabels.push(e)}))}),this.USERSTATUS=t.Ya,this._currentUser&&this._currentUser.id||this.authService.getUserObserver().subscribe(function(e){l._currentUser&&l._currentUser.id||(l._currentUser=e)})}return e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){e.unsubscribe()})},e.prototype.getSVGUrl=function(e){return o.a.generateAssetPath(this.defaultReactions[null!==e?e:i.e.LIKE].svg)},e.prototype.getReactionLabel=function(e){return this.reactionLabels[null!==e?e:i.e.LIKE]},e}()}}]);